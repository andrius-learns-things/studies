# Studies

Repo for keeping notes, experiments and other studies related stuff.

It has:

# Buzzword index

[Link](/notes/buzzwords.md)

# Bookmarked useful links

[Link](/notes/bookmarks.md)

# CheatSheet

[Link](/notes/cheatsheet.md)

# Tools

## 1. Pre-commit setup

Done:
- Pre-commits with black & flake8
- Flake8 complexity enforcement?

Ideas:
- run.sh script, solved docker sudo problems
- Full test coverage enforcement?

[Link](/tools/pre-commits)

# Experiments:

## 1. Python script, experimenting with queries of three DBs: Redis, MongoDB and PostgreSQL

[Link](/experiments/1/)

To run, execute `docker-compose up`

Status: In progress...

Done:
- Redis POC
- Mongo POC
- Mounted source files
- PostgreSQL POC
- One entity experiment with all providers
- Add time measurements
- Scale up
- Indexes

Todo:
- Another experiment: Two entities and JOINS
  - Provider by provider
- Another provider - SQL Alchemy + migrations
- Why no perf improvement with postgres index?
- MySql?
- Couchbase?

Ideas:
- PostgresAdmin? Other kind of admins?

## 2. PDB debugging with docker and flask

DONE.

See [Link](/experiments/2/Readme.md)


## 3. Swagger UI served for trivial flask app

Following https://medium.com/@sean_bradley/add-swagger-ui-to-your-python-flask-api-683bfbb32b36

DONE.

See [Link](/experiments/3/)

## 4. Swagger autogenerated by FlaskRestPlus

Following https://towardsdatascience.com/working-with-apis-using-flask-flask-restplus-and-swagger-ui-7cf447deda7f

DONE.

## 5. Graphene lib for GraphQL in python

FAILED. Got stuck at https://github.com/graphql-python/graphene/issues/546


# Full-stack apps

## Stack #1 (React-Python)

TODO:
- Cleanup shared store and store component
- Make things work
- Cleanup package.json
- Upgrade package.json libs, as much as possible

## Overview of full stack apps

| Component                                | Stack #1 (React-Python) |  status  | Stack #2 (React-Django)   | status | Stack #3 (.Net Core) | status |
| :--------------------------------------- | :---------------------- | :------: | :------------------------ | :----: | :------------------- | :----: |
| .                                        |                         |          |                           |        |                      |        |
| **PROJECT SETUP**                        |                         |          |                           |        |                      |        |
| Readme & one-command setup               | Docker compose          | **DONE** | <- same (?)               |   td   | <- same (?)          |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **FRONTEND**                             |                         |          |                           |        |                      |        |
| Css framework                            | Bootstrap               |    td    | CSS grid                  |   td   | Pure (?)             |   td   |
| Css language                             | SASS                    |    td    | <- same (?)               |   td   | <- same (?)          |   td   |
| App framework                            | React + Flux            |    td    | React + ContextAPI (?)    |   td   | Vue (?)              |   td   |
| Localization framework                   | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| Language                                 | ES6                     |    td    | <- same (?)               |   td   | Typescript           |   td   |
| Bundler                                  | Webpack                 |    td    | <- same (?)               |   td   | (?)                  |   td   |
| Packager                                 | NPM                     |    td    | <- same (?)               |   td   | Yarn                 |   td   |
| Code formatter                           | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| Debugger                                 | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| Unit tests                               | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| Extensive logging (posts to back)        | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| CI & pre-commit - code quality checks    | ESlint (?)              |    td    | (?)                       |   td   | (?)                  |   td   |
| CI & pre-commit - test coverage          | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| CI & pre-commit - security checks        | NPM audit (?)           |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **BACKEND - WEB SERVER**                 |                         |          |                           |        |                      |        |
| Code formatter                           | Black                   | **DONE** | (?)                       |   td   | (?)                  |   td   |
| Debugger                                 | Pdb                     | **DONE** | (?)                       |   td   | (?)                  |   td   |
| Unit tests                               | Pytest                  |    td    | <- same (?)               |   td   | Yarn                 |   td   |
| Extensive logging                        | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| CI & pre-commit - code quality checks    | Flake8 + complexity     |    td    | (?)                       |   td   | (?)                  |   td   |
| CI & pre-commit - test coverage          | Pytest coverage         |    td    | <- same (?)               |   td   | (?)                  |   td   |
| CI & pre-commit - security checks        | Bandit (?)              |    td    | (?)                       |   td   | (?)                  |   td   |
| Language                                 | Python                  | **DONE** | Python                    |   td   | C#                   |   td   |
| Web framework                            | Flask                   | **DONE** | Django                    |   td   | ASP.Net Core         |   td   |
| App engine - permissions, auth, worflows | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **BACKEND - API**                        |                         |          |                           |        |                      |        |
| REST endpoints                           | Flask REST              |    td    | Django REST               |   td   | (?)                  |   td   |
| REST documentation                       | Swagger with (?)        |    td    | RAML with (?)             |   td   | Swagger with (?)     |   td   |
| REST json schema validators              | Schematics              |    td    | (?)                       |   td   | (?)                  |   td   |
| GraphQL Endpoints                        | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **BACKEND - APP CONTEXTS**               |                         |          |                           |        |                      |        |
| Session context                          | Redis                   |    td    | (?)                       |   td   | (?)                  |   td   |
| Cashe context                            | Redis                   |    td    | (?)                       |   td   | (?)                  |   td   |
| App context                              | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Request context                          | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Cookie context                           | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **BACKEND - ES&CQRS BASED STORAGE**      |                         |          |                           |        |                      |        |
| Immutable event store                    | MongoDB (?)             |    td    | (?)                       |   td   | (?)                  |   td   |
| Solution for GDPR vs immutability        | Custom (?)              |    td    | (?)                       |   td   | (?)                  |   td   |
| Read model                               | PostgreSQL              |    td    | <- same (?)               |   td   | (?)                  |   td   |
| Read model - ORM                         | SQL Alchemy             |    td    | Django ORM                |   td   | (?)                  |   td   |
| Read model - Schema migrations           | Alembic                 |    td    | Django ORM migrations (?) |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **BACKEND - ASYNC TASKS**                |                         |          |                           |        |                      |        |
| Framework                                | Celery                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Queue                                    | RabbitMQ                |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **BACKEND - FULL-TEXT SEARCH**           |                         |          |                           |        |                      |        |
| Engine                                   | Elastic search          |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **CI/CD & INFRA**                        |                         |          |                           |        |                      |        |
| CI service                               | Travis                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Hosting (for runners, alpha, prod)       | DigitalOcean (?)        |    td    | (?)                       |   td   | (?)                  |   td   |
| Infra as a code                          | Minikube (?)            |    td    | (?)                       |   td   | (?)                  |   td   |
| Web server                               | Nginx                   |    td    | (?)                       |   td   | (?)                  |   td   |
| Web application server                   | uWSGI                   |    td    | (?)                       |   td   | (?)                  |   td   |
| Deploy to alpha & prod                   | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Version endpoint and after-deploy checks | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Liveness & readyness endpoints           | Custom                  |    td    | (?)                       |   td   | (?)                  |   td   |
| Selenium smoke tests in alpha            | Robot framework         |    td    | (?)                       |   td   | (?)                  |   td   |
| Selenium health tests in prod            | Robot framework         |    td    | (?)                       |   td   | (?)                  |   td   |
| Backend error tracker - alpha            | Sentry                  |    td    | <- same (?)               |   td   | (?)                  |   td   |
| Logging aggregation (a, p)               | Graylog (?)             |    td    | ES & Kibana (?)           |   td   | (?)                  |   td   |
| Infra metrics - prod                     | NewRelic (?)            |    td    | Graphite & Graphana (?)   |   td   | (?)                  |   td   |
| User metrics - prod                      | Google analytics (?)    |    td    | (?)                       |   td   | (?)                  |   td   |
| .                                        |                         |          |                           |        |                      |        |
| **CI/CD EXOTICS**                        |                         |          |                           |        |                      |        |
| Memory leak checks                       | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| Performance tests                        | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
| Clean error log enforced                 | (?)                     |    td    | (?)                       |   td   | (?)                  |   td   |
